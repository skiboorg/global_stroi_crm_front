"use strict";(globalThis["webpackChunkglobal_stroi_crm_front"]=globalThis["webpackChunkglobal_stroi_crm_front"]||[]).push([[317],{8317:(e,a,l)=>{l.r(a),l.d(a,{default:()=>L});var t=l(9835),n=l(6970),u=l(499),o=l(1957),r=l(8339),i=l(2591),m=l(6928);const c={key:1},d={preFetch({store:e,redirect:a}){const l=(0,m.t)(e);l.loggedIn||a({path:"/login"})}},p=Object.assign(d,{__name:"MainLayout",setup(e){const a=(0,u.iH)(!1),l=(0,i.L)(),m=((0,r.yj)(),(0,u.iH)(""));return(e,r)=>{const i=(0,t.up)("q-btn"),d=(0,t.up)("q-toolbar-title"),p=(0,t.up)("q-toolbar"),s=(0,t.up)("q-header"),w=(0,t.up)("q-item-label"),_=(0,t.up)("q-separator"),g=(0,t.up)("q-icon"),b=(0,t.up)("q-item-section"),f=(0,t.up)("q-item"),k=(0,t.up)("q-list"),v=(0,t.up)("q-expansion-item"),W=(0,t.up)("q-drawer"),h=(0,t.up)("router-view"),q=(0,t.up)("q-page-container"),Q=(0,t.up)("q-layout");return(0,t.wg)(),(0,t.j4)(Q,{view:"lHh Lpr lFf"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{elevated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:r[0]||(r[0]=e=>a.value=!a.value)}),(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(m.value),1)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(W,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=e=>a.value=e),"show-if-above":"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{separator:""},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)(" ГЛОБАЛ СТРОЙ CRM ")])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,u.SU)(l).main_menu,((a,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t.Wm)(_),a.role_can_view.includes(e.auth.user.role?.id)&&a.menu_items.length>0?((0,t.wg)(),(0,t.j4)(v,{key:0,group:"mainmenu","header-class":"text-primary",icon:a.icon,label:a.name?a.name:a.page.name},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{separator:"",class:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.menu_items,((a,l)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(f,{key:l,clickable:!!a.page,to:a.page?a.page.url:""},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{name:a.icon},null,8,["name"])])),_:2},1024),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(a.name?a.name:a.page.name),1)])),_:2},1024)])),_:2},1032,["clickable","to"])),[[o.F8,a.role_can_view?.includes(e.auth.user.role?.id)]]))),128))])),_:2},1024)])),_:2},1032,["icon","label"])):((0,t.wg)(),(0,t.iD)("div",c,[a.role_can_view.includes(e.auth.user.role?.id)?((0,t.wg)(),(0,t.j4)(f,{key:0,clickable:!!a.page,to:a.page?a.page.url:""},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{name:a.icon},null,8,["name"])])),_:2},1024),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(a.name?a.name:a.page.name),1)])),_:2},1024)])),_:2},1032,["clickable","to"])):(0,t.kq)("",!0)]))])))),128))])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h)])),_:1})])),_:1})}}});var s=l(7605),w=l(6602),_=l(1663),g=l(8879),b=l(1973),f=l(3655),k=l(3246),v=l(3115),W=l(926),h=l(651),q=l(490),Q=l(6749),Z=l(2857),y=l(2133),j=l(9984),H=l.n(j);const I=p,L=I;H()(p,"components",{QLayout:s.Z,QHeader:w.Z,QToolbar:_.Z,QBtn:g.Z,QToolbarTitle:b.Z,QDrawer:f.Z,QList:k.Z,QItemLabel:v.Z,QSeparator:W.Z,QExpansionItem:h.Z,QItem:q.Z,QItemSection:Q.Z,QIcon:Z.Z,QPageContainer:y.Z})}}]);