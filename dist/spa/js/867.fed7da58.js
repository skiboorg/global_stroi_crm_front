"use strict";(globalThis["webpackChunkglobal_stroi_crm_front"]=globalThis["webpackChunkglobal_stroi_crm_front"]||[]).push([[867],{2637:(e,a,l)=>{l.d(a,{d:()=>o});var t=l(6827),u=l(8346);function o(e,a){t.Z.create({message:a,html:!0,color:e,position:u.Z.lt.sm?"bottom":"bottom-right"})}},8867:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Q});var t=l(9835),u=l(6970),o=l(1957),s=l(8339),n=l(1569),i=l(499),m=l(2637);const d={class:"flex items-center justify-between q-mb-md"},r={class:"no-margin text-h6 text-bold"},p={key:0},c=(0,t._)("p",{class:"text-bold"},"Комментарий пользователя",-1),_={__name:"filled_stress_form",setup(e){const a=(0,s.yj)(),l=(0,i.iH)({}),_=(0,i.iH)({}),v=(0,i.iH)(null),b=(0,i.iH)(null);console.log(a.params.uuid),(0,t.wF)((async()=>{await w()}));const w=async()=>{const e=await(0,n.api)(`/api/form/stress_form_data/${a.params.uuid}`);console.log(e.data),l.value=e.data,_.value=l.value.data,v.value=l.value.mark,b.value=l.value.admin_feedback},f=async()=>{await n.api.patch(`/api/form/stress_form_data/${a.params.uuid}`,{mark:v.value,admin_feedback:b.value});(0,m.d)("positive","Данные обновлены")};return(e,a)=>{const s=(0,t.up)("q-item-section"),n=(0,t.up)("q-item"),i=(0,t.up)("q-list"),m=(0,t.up)("q-separator"),w=(0,t.up)("q-input"),g=(0,t.up)("q-btn"),k=(0,t.up)("q-form"),q=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(q,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t._)("p",r,"Форма ID "+(0,u.zw)(l.value.id)+" от "+(0,u.zw)(new Date(l.value.created_at).toLocaleString()),1)]),(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(_.value,((e,a)=>((0,t.wg)(),(0,t.j4)(n,{key:a},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{side:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(a+1),1)])),_:2},1024),(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.label),1)])),_:2},1024),(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.value),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),l.value.user_feedback?((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(m,{spaced:"lg"}),c,(0,t._)("p",null,(0,u.zw)(l.value.user_feedback),1),(0,t.Wm)(m,{spaced:"lg"})])):(0,t.kq)("",!0),(0,t.Wm)(k,{onSubmit:(0,o.iM)(f,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),outlined:"","lazy-rules":"",label:"Оценка",rules:[e=>null!==e&&""!==e||"Это обязательное поле"]},null,8,["modelValue","rules"]),(0,t.Wm)(w,{modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=e=>b.value=e),class:"q-mb-md",label:"Комментарий",outlined:"",type:"textarea"},null,8,["modelValue"]),(0,t.Wm)(g,{type:"submit","no-caps":"",color:"positive",label:"Сохранить"})])),_:1},8,["onSubmit"])])),_:1})}}};var v=l(9885),b=l(3246),w=l(490),f=l(6749),g=l(926),k=l(8326),q=l(3119),y=l(8879),W=l(9984),Z=l.n(W);const h=_,Q=h;Z()(_,"components",{QPage:v.Z,QList:b.Z,QItem:w.Z,QItemSection:f.Z,QSeparator:g.Z,QForm:k.Z,QInput:q.Z,QBtn:y.Z})}}]);