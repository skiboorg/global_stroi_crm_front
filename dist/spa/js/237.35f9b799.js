"use strict";(globalThis["webpackChunkglobal_stroi_crm_front"]=globalThis["webpackChunkglobal_stroi_crm_front"]||[]).push([[237],{2637:(a,e,t)=>{t.d(e,{d:()=>s});var l=t(6827),o=t(8346);function s(a,e){l.Z.create({message:e,html:!0,color:a,position:o.Z.lt.sm?"bottom":"bottom-right"})}},2237:(a,e,t)=>{t.r(e),t.d(e,{default:()=>Z});var l=t(9835),o=t(6970),s=t(1957),u=t(8339),n=t(1569),r=t(499),i=t(2637);const d={class:"flex items-center justify-between q-mb-md"},c={class:"no-margin text-h6 text-bold"},m={class:"text-h6 text-bold"},p=(0,l._)("div",{class:"row q-col-gutter-md q-mb-md items-center"},[(0,l._)("div",{class:"col-4"}," Вопрос"),(0,l._)("div",{class:"col-1"},"План"),(0,l._)("div",{class:"col-1"},"Факт")],-1),_={class:"col-4"},v={class:"col-1"},b={class:"col-1"},w={__name:"stress_form_for_user",setup(a){const e=(0,u.yj)(),t=(0,r.iH)({}),w=(0,r.iH)({});console.log(e.params.uuid),(0,l.wF)((async()=>{await f()}));const f=async()=>{const a=await(0,n.api)(`/api/form/stress_form_data/${e.params.uuid}`);console.log(a.data),t.value=a.data,t.value.data?w.value=t.value.data:w.value=t.value.form?.default_data},g=async()=>{await n.api.patch(`/api/form/stress_form_data/${e.params.uuid}`,{data:w.value,is_done:!0});(0,i.d)("positive","Данные обновлены")};return(a,e)=>{const u=(0,l.up)("q-input"),n=(0,l.up)("q-btn"),r=(0,l.up)("q-form"),i=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(i,{padding:""},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l._)("p",c,"Форма ID "+(0,o.zw)(t.value.id)+" от "+(0,o.zw)(new Date(t.value.created_at).toLocaleString()),1)]),(0,l._)("p",m,(0,o.zw)(t.value.form?.name),1),(0,l.Wm)(r,{onSubmit:(0,s.iM)(g,["prevent"])},{default:(0,l.w5)((()=>[p,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(w.value,((a,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"row q-col-gutter-md q-mb-md items-center",key:e},[(0,l._)("div",_,(0,o.zw)(a.label),1),(0,l._)("div",v,(0,o.zw)(a.plan_amount),1),(0,l._)("div",b,[(0,l.Wm)(u,{modelValue:a.fact_amount,"onUpdate:modelValue":e=>a.fact_amount=e,outlined:"","lazy-rules":"",dense:"",type:"number",readonly:!!t.value.mark,rules:[a=>null!==a&&""!==a||"Это обязательное поле"]},null,8,["modelValue","onUpdate:modelValue","readonly","rules"])])])))),128)),t.value.mark?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(n,{key:0,type:"submit","no-caps":"",color:"positive",label:"Сохранить"}))])),_:1},8,["onSubmit"])])),_:1})}}};var f=t(9885),g=t(8326),y=t(3119),h=t(8879),q=t(9984),k=t.n(q);const z=w,Z=z;k()(w,"components",{QPage:f.Z,QForm:g.Z,QInput:y.Z,QBtn:h.Z})}}]);