"use strict";(globalThis["webpackChunkglobal_stroi_crm_front"]=globalThis["webpackChunkglobal_stroi_crm_front"]||[]).push([[585],{8203:(e,t,n)=>{n.d(t,{Z:()=>u});var l=n(9835);function a(e,t){const n=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.j4)(n,{"no-caps":"",outline:"",color:"primary",label:"Назад",icon:"arrow_back",class:"q-mr-md",onClick:t[0]||(t[0]=t=>e.$router.back())})}var o=n(1639),r=n(8879),s=n(9984),i=n.n(s);const d={},c=(0,o.Z)(d,[["render",a]]),u=c;i()(d,"components",{QBtn:r.Z})},1862:(e,t,n)=>{n.d(t,{Z:()=>d});var l=n(9835);const a={__name:"EditButton",props:["label","icon","color"],setup(e){return(t,n)=>{const a=(0,l.up)("q-btn");return t.auth.user.role?.permission?.can_edit?((0,l.wg)(),(0,l.j4)(a,{key:0,"no-caps":"",unelevated:"",color:e.color,label:e.label,icon:e.icon?e.icon:"edit"},null,8,["color","label","icon"])):(0,l.kq)("",!0)}}};var o=n(8879),r=n(9984),s=n.n(r);const i=a,d=i;s()(a,"components",{QBtn:o.Z})},8585:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});n(2879);var l=n(9835),a=n(6970),o=n(499),r=n(8203),s=n(9876),i=n(1862);const d={class:"flex items-center q-mb-md"},c=(0,l._)("p",{class:"no-margin text-h6 text-bold"},"Структура организации",-1),u={class:"flex items-center justify-between full-width"},m={class:"text-weight-bold text-primary"},p={key:0,class:""},w={__name:"structure",setup(e){const t=(0,s.E)(),n="http://194.67.113.163:8010",w=(0,l.Fl)((()=>t.departments)),k=(0,o.iH)("пп1");return(e,t)=>{const s=(0,l.up)("q-item-label"),b=(0,l.up)("q-item-section"),_=(0,l.up)("q-item"),f=(0,l.up)("q-list"),g=(0,l.up)("q-tree"),v=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(v,{padding:""},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l.Wm)(r.Z),c]),(0,l.Wm)(g,{nodes:w.value,"node-key":"name","children-key":"divisions","label-key":"name","selected-color":"primary",selected:k.value,"onUpdate:selected":t[0]||(t[0]=e=>k.value=e),"default-expand-all":""},{"default-header":(0,l.w5)((e=>[(0,l._)("div",u,[(0,l._)("div",m,(0,a.zw)(e.node.name),1),e.node.divisions?((0,l.wg)(),(0,l.j4)(i.Z,{key:0,icon:"edit",target:"_blank",href:`${(0,o.SU)(n)}/admin/user/department/${e.node.id}/change/`,flat:""},null,8,["href"])):(0,l.kq)("",!0)])])),"default-body":(0,l.w5)((t=>[t.node.divisions?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(f,{separator:"",bordered:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.node.users,(t=>((0,l.wg)(),(0,l.j4)(_,{dense:"",key:t.id,clickable:"",onClick:n=>e.$router.push(`/user/${t.id}`)},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[t.firstname?((0,l.wg)(),(0,l.j4)(s,{key:0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(t.lastname)+" "+(0,a.zw)(t.firstname)+(0,a.zw)(t.surname),1)])),_:2},1024)):((0,l.wg)(),(0,l.j4)(s,{key:1},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(t.username),1)])),_:2},1024))])),_:2},1024),t.role?((0,l.wg)(),(0,l.j4)(b,{key:0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(t.role.name),1)])),_:2},1024)):((0,l.wg)(),(0,l.j4)(b,{key:1},{default:(0,l.w5)((()=>[(0,l.Uk)(" Роль не указана ")])),_:1}))])),_:2},1032,["onClick"])))),128))])),_:2},1024)]))])),_:1},8,["nodes","selected"])])),_:1})}}};var k=n(9885),b=n(4749),_=n(3246),f=n(490),g=n(6749),v=n(3115),h=n(9984),y=n.n(h);const q=w,Z=q;y()(w,"components",{QPage:k.Z,QTree:b.Z,QList:_.Z,QItem:f.Z,QItemSection:g.Z,QItemLabel:v.Z})}}]);